# Permite beans duplicados (como 'dataSource') en desarrollo
# Bloque spring fusionado correctamente
spring:
  main:
    allow-bean-definition-overriding: true
  cloud:
    gateway:
      httpclient:
        connect-timeout: 5000
        response-timeout: 10000ms
# ============================================
# VOZ SEGURA - GATEWAY - Development Profile
# ============================================

server:
  port: ${GATEWAY_PORT:8080}

# ============================================
# Service URIs - Configuración desde variables de entorno
# ============================================
vozsegura:
  core-service:
    uri: ${CORE_SERVICE_URI:http://localhost:8082}

# JWT Development (NUNCA usar valores por defecto en producción)
jwt:
  secret: ${JWT_SECRET}
  expiration: 86400000

# Supabase
supabase:
  project-url: ${SUPABASE_PROJECT_URL}
  anon-key: ${SUPABASE_ANON_KEY}
  service-role-key: ${SUPABASE_SERVICE_ROLE_KEY}

# Development Logging
logging:
  level:
    root: INFO
    com.vozsegura.gateway: DEBUG
    org.springframework.cloud.gateway: DEBUG
    org.springframework.security: DEBUG
  file:
    name: logs/gateway-dev.log

management:
  endpoints:
    web:
      exposure:
        include: health,metrics,gateway
