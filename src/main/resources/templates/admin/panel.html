<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Voz Segura — Panel de Administración</title>
    <link rel="stylesheet" th:href="@{/css/main.css?v=5}" href="/css/main.css?v=5"/>
</head>
<body class="vs-app">

<header class="vs-header">
    <div class="vs-container vs-container-wide">
        <div class="vs-brand" aria-label="Voz Segura">
            <img class="vs-brand__logo" th:src="@{/img/logo-voz-segura.svg?v=4}" alt="Logo de Voz Segura">
            <div class="vs-brand__text">
                <div class="vs-brand__title">Voz Segura</div>
                <div class="vs-brand__subtitle">Administración</div>
            </div>
        </div>
        <nav class="vs-nav" aria-label="Navegación">
            <a th:href="@{/admin/panel}" class="vs-nav__link">Panel</a>
            <a th:href="@{/admin/reglas}" class="vs-nav__link">Reglas</a>
            <a th:href="@{/admin/logs}" class="vs-nav__link">Logs</a>
            <a th:href="@{/auth/logout}" class="vs-nav__link">Cerrar sesión</a>
        </nav>
    </div>
</header>

<main class="vs-container vs-container-wide">
    <!-- Notificaciones -->
    <div th:if="${success}" data-vs-success th:data-vs-success="${success}" style="display:none;"></div>
    <div th:if="${error}" data-vs-error th:data-vs-error="${error}" style="display:none;"></div>
    
    <section class="vs-card" aria-labelledby="titulo-panel">
        <div class="vs-card__header">
            <h1 id="titulo-panel" class="vs-card__title">Panel de Administración</h1>
            <p class="vs-card__subtitle">Gestione las configuraciones del sistema</p>
        </div>

        <div class="vs-grid vs-grid--2cols vs-mb-6">
            <a th:href="@{/admin/reglas}" class="vs-action-card">
                <div class="vs-action-card__title">Reglas de derivación</div>
                <p class="vs-action-card__text">
                    Configure las reglas para derivar denuncias automáticamente a las entidades correspondientes.
                </p>
                <span class="vs-action-card__cta">Gestionar reglas →</span>
            </a>

            <a th:href="@{/admin/logs}" class="vs-action-card">
                <div class="vs-action-card__title">Logs del sistema</div>
                <p class="vs-action-card__text">
                    Consulte el registro de actividad del sistema sin exponer datos personales.
                </p>
                <span class="vs-action-card__cta">Ver logs →</span>
            </a>
        </div>

        <div class="vs-section">
            <h3 class="vs-section__title">Resumen</h3>

            <div class="vs-grid vs-grid--2cols">
                <div>
                    <div class="vs-form__label">Reglas activas</div>
                    <div th:text="${activeRules}">0</div>
                </div>

                <div>
                    <div class="vs-form__label">Total de reglas</div>
                    <div th:text="${totalRules}">0</div>
                </div>
            </div>
        </div>

    </section>
</main>

<script th:src="@{/js/notifications.js}" src="/js/notifications.js"></script>
</body>
</html>
